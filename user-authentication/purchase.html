<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My Purchases</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://kit.fontawesome.com/your-fontawesome-kit.js" crossorigin="anonymous"></script>
  <style>
    body { font-family: Arial, sans-serif; background:#f9f9f9; }
    .container { max-width: 1100px; margin: 30px auto; padding: 20px; }
    h1 { text-align:center; color:green; margin-bottom:30px; }
    .orders {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 20px;
    }
    .order-card {
      background:white;
      border:1px solid #ddd;
      border-radius:10px;
      padding:20px;
      box-shadow:0 2px 6px rgba(0,0,0,0.1);
      transition:0.3s;
    }
    .order-card:hover { box-shadow:0 4px 10px rgba(0,0,0,0.15); }
    .order-card img { width:100%; border-radius:8px; }
    .order-details { margin-top:15px; }
    .order-details h3 { color:#333; margin:5px 0; }
    .price { color:green; font-weight:bold; }
    .status { display:inline-block; padding:4px 8px; border-radius:5px; font-size:14px; margin-top:5px;}
    .status.pending { background:#fff3cd; color:#856404; }
    .status.shipped { background:#cce5ff; color:#004085; }
    .status.delivered { background:#d4edda; color:#155724; }
  </style>
</head>
<body>
  <header>
    <!-- Reuse your existing header code here -->
  </header>

  <div class="container">
    <h1>My Recent Purchases</h1>
    <div class="orders" id="ordersList">
      <!-- Orders will load here -->
    </div>
  </div>

  <script>
    // ðŸ”¹ Replace this URL with your real API endpoint later
    const API_URL = '/api/orders?userId=123'; // example: backend returns JSON

    async function loadOrders() {
      try {
        // Example demo data (remove when connected to backend)
        const demoData = [
          {
            id: "ORD1234",
            product: "Saamai Pongal Mix",
            image: "images/pongal.jpg",
            price: 135,
            quantity: 2,
            status: "pending",
            date: "2025-09-14"
          },
          {
            id: "ORD5678",
            product: "Red Chola Rava Dosai Mix",
            image: "images/dosai.jpg",
            price: 120,
            quantity: 1,
            status: "delivered",
            date: "2025-09-12"
          }
        ];

        // Uncomment when API is ready:
        // const res = await fetch(API_URL);
        // const demoData = await res.json();

        const container = document.getElementById("ordersList");
        if (demoData.length === 0) {
          container.innerHTML = "<p>No purchases found.</p>";
          return;
        }

        demoData.forEach(order => {
          const card = document.createElement("div");
          card.className = "order-card";
          card.innerHTML = `
            <img src="${order.image}" alt="${order.product}">
            <div class="order-details">
              <h3>${order.product}</h3>
              <p>Order ID: ${order.id}</p>
              <p>Date: ${order.date}</p>
              <p>Qty: ${order.quantity}</p>
              <p class="price">â‚¹${order.price}</p>
              <span class="status ${order.status}">${order.status}</span>
            </div>
          `;
          container.appendChild(card);
        });
      } catch (error) {
        console.error("Error loading orders", error);
      }
    }

    loadOrders();
  </script>
</body>
</html>
